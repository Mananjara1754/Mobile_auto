"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2781],{2781:(M,g,a)=>{a.r(g),a.d(g,{InscriptionPageModule:()=>P});var m=a(4755),s=a(9401),u=a(9972),p=a(116),c=a(5861),r=a(9266),e=a(2223),f=a(7556);const v=[{path:"",component:(()=>{class t{constructor(o,n){var d=this;this.formBuilder=o,this.authService=n,this.addListeners=(0,c.Z)(function*(){yield r.V.addListener("registration",i=>{alert("Registration token :"+i.value),d.token=i.value}),yield r.V.addListener("registrationError",i=>{alert("Registration err :"+i.error)}),yield r.V.addListener("pushNotificationReceived",i=>{alert("Notif recu :"+JSON.stringify(i))}),yield r.V.addListener("pushNotificationActionPerformed",i=>{alert("Push notification action performed"+i.actionId+i)})}),this.getDeliveredNotifications=(0,c.Z)(function*(){const i=yield r.V.getDeliveredNotifications();alert("delivered notifications"+JSON.stringify(i))})}ngOnInit(){this.generateToken()}registerPushNotifications(){return(0,c.Z)(function*(){let o=yield r.V.checkPermissions();if(alert(JSON.stringify(o)),"prompt"===o.receive&&(o=yield r.V.requestPermissions()),"granted"!==o.receive&&alert("User denied permissions!"),"granted"===o.receive)try{yield r.V.register()}catch(n){alert(JSON.stringify(n))}})()}generateToken(){r.V.checkPermissions().then(o=>{"granted"==o.receive&&(console.log("Register"),r.V.register(),r.V.addListener("registration",n=>{console.log("Token "+n.value),this.token=n.value}),r.V.addListener("registrationError",n=>{console.error("Error on registration: "+JSON.stringify(n))}),r.V.addListener("pushNotificationReceived",n=>{this.handleIncomingNotification(n)}),r.V.addListener("pushNotificationActionPerformed",n=>{this.handleNotificationAction(n)}))})}sendTokenToServer(o){return(0,c.Z)(function*(){try{(yield fetch("http://192.168.21.172:8080/registerDeviceToken/1",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({deviceToken:o})})).ok?console.log("Device token sent successfully"):console.error("Failed to send device token to the server")}catch(n){console.error("Error sending device token:",n)}})()}handleIncomingNotification(o){console.log("Received notification:",o)}handleNotificationAction(o){console.log("Notification action performed:",o)}onSubmit(){var o=this;return(0,c.Z)(function*(){o.authService.inscription(o.nom,o.prenom,o.email,o.mdp,o.validation,o.token)})()}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(s.qu),e.Y36(f.e))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-inscription"]],decls:50,vars:7,consts:[[1,"body",2,"overflow","hidden",3,"fullscreen"],[1,"content",2,"height","100%"],[1,"titre"],["src","../../assets/img/logo1.png","alt","","srcset","",2,"width","150px"],[1,"sousTitre"],[1,"contenu0"],[1,"contains"],["action","","novalidate","","method","post",1,"row","g-3","needs-validation"],["for","yourUsername",1,"form-label"],[1,"input-group","has-validation"],["type","text","name","nom","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"invalid-feedback"],["type","text","name","prenom","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","email","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","yourPassword",1,"form-label"],["type","password","name","mdp","id","yourPassword","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","confirmPassword",1,"form-label"],["type","password","name","validation","id","confirmPassword","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","submit","value","Se connecter",1,"btn","btn-primary","w-100",2,"background-color","#1A1313","border","none",3,"disabled","click"]],template:function(o,n){1&o&&(e.TgZ(0,"ion-content",0)(1,"div",1)(2,"div",2),e._UZ(3,"img",3)(4,"br"),e.TgZ(5,"div",4)(6,"p"),e._uU(7,"Rejoignez nous"),e.qZA()()(),e.TgZ(8,"div",5)(9,"div",6)(10,"h3"),e._uU(11,"Inscription"),e.qZA(),e._UZ(12,"br"),e.TgZ(13,"form",7)(14,"div")(15,"label",8),e._uU(16,"Nom"),e.qZA(),e.TgZ(17,"div",9)(18,"input",10),e.NdJ("ngModelChange",function(i){return n.nom=i}),e.qZA(),e.TgZ(19,"div",11),e._uU(20,"veuillez entrer votre Nom utilisateur."),e.qZA()()(),e.TgZ(21,"div")(22,"label",8),e._uU(23,"Prenom"),e.qZA(),e.TgZ(24,"div",9)(25,"input",12),e.NdJ("ngModelChange",function(i){return n.prenom=i}),e.qZA(),e.TgZ(26,"div",11),e._uU(27,"veuillez entrer votre prenom."),e.qZA()()(),e.TgZ(28,"div")(29,"label",8),e._uU(30,"E-mail"),e.qZA(),e.TgZ(31,"div",9)(32,"input",13),e.NdJ("ngModelChange",function(i){return n.email=i}),e.qZA(),e.TgZ(33,"div",11),e._uU(34,"veuillez entrer votre Email."),e.qZA()()(),e.TgZ(35,"div")(36,"label",14),e._uU(37,"Mot de Passe"),e.qZA(),e.TgZ(38,"input",15),e.NdJ("ngModelChange",function(i){return n.mdp=i}),e.qZA(),e.TgZ(39,"div",11),e._uU(40,"Veuillez entrer votre mot de passe"),e.qZA()(),e.TgZ(41,"div")(42,"label",16),e._uU(43,"Confirmation du mot de Passe"),e.qZA(),e.TgZ(44,"input",17),e.NdJ("ngModelChange",function(i){return n.validation=i}),e.qZA(),e.TgZ(45,"div",11),e._uU(46,"Veuillez valider votre mot de passe"),e.qZA()(),e.TgZ(47,"div"),e._UZ(48,"br"),e.TgZ(49,"input",18),e.NdJ("click",function(){return n.onSubmit()}),e.qZA()()()()()()()),2&o&&(e.Q6J("fullscreen",!0),e.xp6(18),e.Q6J("ngModel",n.nom),e.xp6(7),e.Q6J("ngModel",n.prenom),e.xp6(7),e.Q6J("ngModel",n.email),e.xp6(6),e.Q6J("ngModel",n.mdp),e.xp6(6),e.Q6J("ngModel",n.validation),e.xp6(5),e.Q6J("disabled",!(n.token&&n.nom&&n.prenom&&n.mdp&&n.validation&&n.email)))},dependencies:[s._Y,s.Fj,s.JJ,s.JL,s.Q7,s.On,s.F,u.W2],styles:[".body[_ngcontent-%COMP%]{--background: none}.titre[_ngcontent-%COMP%]{height:45%;padding:50px 8%;background-image:url(inscription.4cefc20942077d30.jpg);background-size:cover;background-repeat:no-repeat;background-position:center;inset:0}.contenu0[_ngcontent-%COMP%]{background-color:#fff;margin-top:-30px;border-radius:36px;width:100%}.contenu0[_ngcontent-%COMP%]   .contains[_ngcontent-%COMP%]{color:#1a1313;padding:30px 8%;font-weight:900}.contenu0[_ngcontent-%COMP%]   .contains[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{letter-spacing:2px;font-family:Product-Sans-bold}.contenu0[_ngcontent-%COMP%]   .contains[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:100;font-size:smaller;opacity:.79}.contenu0[_ngcontent-%COMP%]   .contains[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border-radius:20px}"]}),t})()}];let h=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[p.Bz.forChild(v),p.Bz]}),t})(),P=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[m.ez,s.u5,u.Pc,h,s.UX]}),t})()}}]);