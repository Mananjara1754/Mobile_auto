"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[539],{539:(b,u,a)=>{a.r(u),a.d(u,{AllAnnoncePageModule:()=>C});var p=a(4755),f=a(9401),r=a(9972),g=a(116),s=a(5861),n=a(2223),h=a(4471),m=a(3442),v=a(2744);function x(t,l){if(1&t){const e=n.EpF();n.ynx(0),n.TgZ(1,"div",14)(2,"div",15),n.NdJ("click",function(){const i=n.CHM(e).$implicit,d=n.oxw();return n.KtG(d.vers_detail(i.details.idAnnonce))}),n.qZA(),n.TgZ(3,"div",16)(4,"div",17)(5,"p",18),n._uU(6),n.qZA(),n.TgZ(7,"p"),n._uU(8),n.TgZ(9,"ion-icon",19),n.NdJ("click",function(){const i=n.CHM(e).$implicit,d=n.oxw();return n.KtG(d.onClickIcone(i,i.favoriStatus))}),n.qZA()(),n.TgZ(10,"p",20),n._uU(11),n.qZA(),n.TgZ(12,"p",21),n._uU(13),n.qZA(),n.TgZ(14,"p",22),n._uU(15),n.ALo(16,"number"),n.qZA()()()(),n.BQk()}if(2&t){const e=l.$implicit;n.xp6(2),n.Jzz("background-image: url('",e.photos[0].urlPhoto,"');"),n.xp6(4),n.AsE("",e.details.prenom," ",e.details.nom,""),n.xp6(2),n.AsE("",e.details.marque," ",e.details.nomModele,""),n.xp6(1),n.Q6J("name",e.favoriStatus?"heart":"heart-outline"),n.xp6(2),n.Oqu(e.details.moteur),n.xp6(2),n.HOy("",e.details.anneeSortie," | ",e.details.kilometrage," km | ",e.details.boite," | ",e.details.energie," "),n.xp6(2),n.hij("",n.lcZ(16,14,e.details.prixVente)," Ar")}}const _=function(){return["/accueil"]},A=[{path:"",component:(()=>{class t{constructor(e,o,c,i,d){this.router=e,this.loadingController=o,this.loadingService=c,this.annonceService=i,this.favoriService=d,this.etatIcone="heart-outline",this.couleurIcone="black",this.annonces=[],this.favoris=[]}ngOnInit(){var e=this;return(0,s.Z)(function*(){e.all_favori(),e.all_annonce()})()}showLoading(){var e=this;return(0,s.Z)(function*(){yield(yield e.loadingController.create({duration:2500})).present()})()}vers_detail(e){var o=this;return(0,s.Z)(function*(){yield o.showLoading(),o.router.navigate(["/details"],{queryParams:{value:e}})})()}all_favori(){var e=this;return(0,s.Z)(function*(){try{e.favoris=yield e.favoriService.get_all_favori(),console.log(e.favoris)}catch(o){console.error("Erreur lors de la r\xe9cup\xe9ration des favoris",o)}})()}onSearchInput(e){var o=this;return(0,s.Z)(function*(){o.recherche_value=e.target.value,o.annonces=yield o.annonceService.recherche(o.recherche_value)})()}doRefresh(e){this.loadingService.present(),this.ngOnInit(),e.target.complete(),this.loadingService.dismiss()}onClickIcone(e,o){var c=this;return(0,s.Z)(function*(){try{1==o?(e.favoriStatus=!1,c.favoriService.delete_favori(e.details.idAnnonce)):(e.favoriStatus=!0,c.favoriService.insert_favori(e.details.idAnnonce))}catch(i){console.error("Erreur lors de la gestion des favoris",i)}})()}all_annonce(){var e=this;return(0,s.Z)(function*(){try{e.annonces=yield e.annonceService.get_all_annonce(),e.annonces.forEach(o=>e.isFavori2(o)),console.log(e.annonces)}catch(o){console.error("Erreur lors de la r\xe9cup\xe9ration des annonces",o)}})()}isFavori2(e){var o=this;return(0,s.Z)(function*(){try{console.log("id Annonce"+e.details.idAnnonce),e.favoriStatus=yield o.favoriService.isFavori2(e.details.idAnnonce,o.favoris)}catch(c){console.error("Erreur lors de la v\xe9rification des favoris",c),e.favoriStatus=!1}})()}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(g.F0),n.Y36(r.HT),n.Y36(h.b),n.Y36(m.Z),n.Y36(v.w))},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-all-annonce"]],decls:18,vars:4,consts:[[1,"ion-no-border"],["slot","start",1,"menu",3,"routerLink"],["name","chevron-back"],[1,"en-Tete"],[2,"color","black"],["slot","end",1,"menu"],["name","chevron-back",2,"color","white"],[3,"fullscreen"],["slot","fixed",3,"ionRefresh"],[1,"row"],[1,"col-12"],["placeholder","Recherche",3,"ionInput"],[1,"sponsor"],[4,"ngFor","ngForOf"],[1,"annonces"],[1,"card-img-pertinent",3,"click"],[1,"card-info"],["id","card-titre"],[2,"opacity","0.5","font-size","small"],[1,"favoris",3,"name","click"],[1,"moteur"],[1,"info"],[1,"prix"]],template:function(e,o){1&e&&(n.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),n._UZ(3,"ion-icon",2),n.qZA(),n.TgZ(4,"div",3)(5,"p",4),n._uU(6,"Tous les annonces"),n.qZA()(),n.TgZ(7,"ion-buttons",5),n._UZ(8,"ion-icon",6),n.qZA()()(),n.TgZ(9,"ion-content",7)(10,"ion-refresher",8),n.NdJ("ionRefresh",function(i){return o.doRefresh(i)}),n._UZ(11,"ion-refresher-content"),n.qZA(),n.TgZ(12,"div",9)(13,"div",10)(14,"ion-searchbar",11),n.NdJ("ionInput",function(i){return o.onSearchInput(i)}),n.qZA()()(),n.TgZ(15,"div")(16,"div",12),n.YNc(17,x,17,16,"ng-container",13),n.qZA()()()),2&e&&(n.xp6(2),n.Q6J("routerLink",n.DdM(3,_)),n.xp6(7),n.Q6J("fullscreen",!0),n.xp6(8),n.Q6J("ngForOf",o.annonces))},dependencies:[p.sg,r.Sm,r.W2,r.Gu,r.gu,r.nJ,r.Wo,r.VI,r.sr,r.j9,r.YI,g.rH,p.JJ],styles:['@import"https://fonts.googleapis.com/css2?family=Ubuntu:wght@300&display=swap";ion-toolbar[_ngcontent-%COMP%]{--background: none;background-color:#fff;border:none}.en-Tete[_ngcontent-%COMP%]{width:100%;text-align:center;background-color:#fff;margin-top:14px}.en-Tete[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:83px;margin-left:20px}.menu[_ngcontent-%COMP%]{width:37px;justify-content:right;color:#1a1313}.menu[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:x-large;color:#1a1313}ion-menu-button[_ngcontent-%COMP%]{font-size:x-large;color:#1a1313}ion-content[_ngcontent-%COMP%]{--background:none;background-color:#fff;position:relative}.sponsor[_ngcontent-%COMP%]{padding:12px 0}.sponsor[_ngcontent-%COMP%]   .annonces[_ngcontent-%COMP%]{width:100%;height:375px;display:inline-block;white-space:normal}@media screen and (min-width: 500px){.sponsor[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}.sponsor[_ngcontent-%COMP%]   .annonces[_ngcontent-%COMP%]{width:45%;height:365px;box-shadow:5px 5px 5px #bebebe,-5px -5px 5px #fff;box-sizing:border-box;margin-left:10px;margin-top:10px}}ion-searchbar[_ngcontent-%COMP%]{--color: black;--placeholder-color: rgb(0, 0, 0);--background: transparent;--font-size: smaller;--box-shadow: .001px .01px 1.01px .1px;--border-width: .1px;--border: 1 solid #1a1717;--border-radius: 24px}.card-img[_ngcontent-%COMP%]{width:100%;height:350px;background-repeat:no-repeat;background-size:cover;background-position:center;padding:20px}.card-info[_ngcontent-%COMP%]{color:#000;padding:0 9px;margin-top:8px}.card-info[_ngcontent-%COMP%]   #card-titre[_ngcontent-%COMP%]{font-size:medium;font-weight:100}#card-footer[_ngcontent-%COMP%]{color:#000;padding:0 20px}.moteur[_ngcontent-%COMP%]{font-size:x-small;margin-top:-11px;opacity:.7}.info[_ngcontent-%COMP%]{font-size:smaller;opacity:.8;margin-top:-10px}.prix[_ngcontent-%COMP%]{margin-top:-10px;font-size:smaller}.favoris[_ngcontent-%COMP%]{float:right;font-size:x-large;color:red}.card-img-pertinent[_ngcontent-%COMP%]{width:100%;height:226px;background-repeat:no-repeat;background-size:cover;background-position:center;padding:20px}#main-content[_ngcontent-%COMP%]{overflow-y:scroll}.menu-header-bg[_ngcontent-%COMP%]{height:180px;width:350px;background-color:#000;transform:rotate(15deg);border-radius:10px 10px 10px 50px;margin-left:-18px;margin-top:-50px;margin-bottom:60px}.menu-items[_ngcontent-%COMP%]{margin:0;background-color:transparent}.menu-items[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin-right:20px;color:#86919f}.menu-items[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{padding-left:20px;margin-bottom:10px;--background: transparent;color:#000}']}),t})()}];let P=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[g.Bz.forChild(A),g.Bz]}),t})(),C=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[p.ez,f.u5,r.Pc,P]}),t})()}}]);